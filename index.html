<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8">
<title>2345 – Mars Orbit</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body,html{margin:0;height:100%;overflow:hidden;background:#000;color:#0ff;font-family:monospace;}
  canvas{display:block;position:absolute;top:0;left:0;width:100%;height:100%;}
  #hud{position:absolute;top:20px;left:20px;opacity:0.6;pointer-events:none;}
  #year{position:absolute;bottom:30px;left:50%;transform:translateX(-50%);font-size:2.5vw;letter-spacing:0.5ch;opacity:0.4;}
  @media(max-width:768px){#year{font-size:5vw;}}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div id="hud">
  <div>MARS ORBIT TRANSMISSION</div>
  <div style="font-size:0.8em;margin-top:8px;">Distance: ~142 million km</div>
</div>

<div id="year">2345</div>

<script>
// —— Canvas setup ——
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
let w = canvas.width = window.innerWidth;
let h = canvas.height = window.innerHeight;

// —— Bumi (dibuat dengan gradient + awan + city lights) ——
function drawEarth(x, y, size) {
  const gradient = ctx.createRadialGradient(x-size*0.1, y-size*0.1, 0, x, y, size);
  gradient.addColorStop(0, '#a0d8ff');
  gradient.addColorStop(0.6, '#0066ff');
  gradient.addColorStop(1, '#003366');
  ctx.fillStyle = gradient;
  ctx.beginPath(); ctx.arc(x, y, size, 0, Math.PI*2); ctx.fill();

  // awan putih
  ctx.globalAlpha = 0.4;
  ctx.fillStyle = '#fff';
  for(let i=0;i<12;i++){
    const ax = x + (Math.random()-0.5)*size*1.2;
    const ay = y + (Math.random()-0.5)*size*0.8;
    ctx.beginPath(); ctx.arc(ax, ay, size*0.15*Math.random(), 0, Math.PI*2); ctx.fill();
  }
  ctx.globalAlpha = 1;

  // city lights (night side)
  ctx.fillStyle = '#ffaa00';
  ctx.globalAlpha = 0.6;
  for(let i=0;i<40;i++){
    const angle = Math.random()*Math.PI*2;
    const dist = size*0.7 + Math.random()*size*0.3;
    if(angle > Math.PI*0.5 && angle < Math.PI*1.5){
      ctx.fillRect(x + Math.cos(angle)*dist -1, y + Math.sin(angle)*dist -1, 2, 2);
    }
  }
  ctx.globalAlpha = 1;
}

// —— Bulan (titik kecil) ——
function drawMoon(ex, ey, size) {
  const mx = ex + size*1.8;
  const my = ey - size*0.4;
  ctx.fillStyle = '#ddd';
  ctx.beginPath(); ctx.arc(mx, my, size*0.08, 0, Math.PI*2); ctx.fill();
}

// —— Bintang ribuan ——
const stars = [];
for(let i=0;i<3500;i++){
  stars.push({
    x: Math.random()*w,
    y: Math.random()*h,
    size: Math.random()*1.8,
    blink: Math.random()
  });
}

// —— Animasi melayang ——
let time = 0;
function animate(){
  time += 0.003;

  // background hitam + fade trail
  ctx.fillStyle = 'rgba(0,0,0,0.06)';
  ctx.fillRect(0,0,w,h);

  // bintang
  stars.forEach(s=>{
    ctx.fillStyle = Math.sin(time*10 + s.blink*10)>0 ? '#fff' : '#88f';
    ctx.fillRect(s.x, s.y, s.size, s.size);
  });

  // posisi Bumi yang melayang pelan + rotasi + wobble
  const earthSize = w*0.09; // lebih kecil karena lebih jauh
  const ex = w/2 + Math.sin(time*0.3)*w*0.12;
  const ey = h/2 + Math.cos(time*0.25)*h*0.08 + Math.sin(time*2)*8; // wobble
  drawEarth(ex, ey, earthSize);
  drawMoon(ex, ey, earthSize);

  requestAnimationFrame(animate);
}

// —— Resize ——
window.addEventListener('resize',()=>{
  w = canvas.width = innerWidth;
  h = canvas.height = innerHeight;
});

animate();

// —— Suara ambience (radio static + deep hum) ——
const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjV
... [data suara 20 detik super kecil di-embed langsung] ...');
audio.loop = true;
audio.volume = 0.25;
document.body.addEventListener('click',()=>{audio.play();}, {once:true});
</script>

</body>
</html>
